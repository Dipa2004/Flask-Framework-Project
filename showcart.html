{% extends "homepage.html" %}
{% block content %}

{% if items %}
<script src="/static/js/myscript.js" type="text/javascript"></script>

<table class="table">
    <tr>
        <th>Book Id</th>
        <th>Book Name</th>
        <th>Price</th>
        <th>Image</th>
        <th>Quantity</th>
        <th>Subtotal</th>
        <th>Actions</th>
    </tr>
    {% for item in items %}
    <form method="post">
        <tr>
            <td>{{item[0]}}
                <input type="hidden" name="book_id" value="{{item[0]}}"/>
                <input type="hidden" name="item_id" value="{{item[4]}}"/>
            </td>
            <td>{{item[1]}}</td>
            <td>{{item[2]}}</td>
            <td>
                <img src="{{ url_for('static', filename=item[3]) }}"
                     style="height: 100px;width: 100px;"
                     class="img-circle"/>
            </td>
            <td>
                <button type="button" class="btn btn-warning" onclick="decrement('qty{{item[0]}}')">-</button>
                <input type="text" value="{{item[6]}}" name="qty" id="qty{{item[0]}}" size="3"/>
                <button type="button" class="btn btn-warning" onclick="increment('qty{{item[0]}}')">+</button>
            </td>
            <td>{{item[7]}}</td>
            <td>
                <button class="btn btn-danger" type="submit" name="action" value="delete">
                    <span class="glyphicon glyphicon-trash"></span>
                </button>
                <button class="btn btn-success" type="submit" name="action" value="update">
                    <span class="glyphicon glyphicon-pencil"></span>
                </button>
            </td>
        </tr>
    </form>
    {% endfor %}
</table>

<hr/>
<h1>
    Total {{ session["total"] }}
    <a href="/payment"><button class="btn btn-success">Make Payment</button></a>
</h1>

{% else %}
  <h2>Your cart is empty.</h2>
{% endif %}

{% endblock %}
